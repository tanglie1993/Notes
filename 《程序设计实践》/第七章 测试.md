- 优化的第一要义是不做。程序是不是已经足够好了？

- 测量是改进性能过程中最关键的一环，推断和直觉都很容易受骗，所以在这里必须使用各种工具，如计时命令或轮廓文件等等。

- 对于写得很好的代码，很小的改变往往就能解决它的性能问题，而对那些设计拙劣的代码，经常会需要大范围地重写。

###计时：

- 自动计时测量。 许多系统里都有这种命令，它们可用于测量一个程序到底用了多少时间。

- 除了可靠的计时方法外，在性能分析中最重要的工具就是一种能产生轮廓文件的系统。

- 画一个图。图形特别适合用来表现性能测量的情况。

###加速策略（按照获益递减的顺序）：

- 在你知道发生了什么之后，有一些可以采用的策略。我们列出几个，按照获益递减的顺序。

- 打开编译系统的优化开关

- 编译优化做得越多越深入，把错误引进编译结果 (程序)的可能性也就越大。

- 如果已经选择了正确的算法，程序的速度仍然是问题的话，下一步还能做的就是调整代码，整理循环和表达式的细节，设法使事情做得更快些。

- 如果有一个程序要运行一年，那么就应该从中挤压出你所能做到的一切。甚至在这个程序已经运行了一个月以后，如果你发现了一种能使它改进百分之十的方法，可能也值得从头再开始一次。存在竞争对象的程序—游戏程序、编译系统、字处理系统、电子表格系统和数据库系统等，都应该纳入这个类别。

###代码调整：

- 高速缓存频繁使用的值。程序和人都有这种倾向，那就是重复使用最近访问过的值，或者是近旁的值，而对老的值和远距离的值则用得比较少。

- 如果程序中需要的经常是同样大小的存储块，采用一个特定用途的存储分配器取代一般的分配器，有可能使速度得到实质性提高。

- 对输入输出做缓冲。

- 特殊情况特殊处理。

- 预先算出某些值。

- 使用近似值。

- 在某个低级语言里重写代码。

###估计

- 为一个语言或者系统做一次代价模拟却是比较简单的，它至少能使你对各种重要操作花费的时间有一个粗略的概念。例如，我们用一个 C和C++ 代价模拟程序估计了一些独立语句的代价，采用的方法就是把它们放在循环里，运行成百万次，然后计算出平均时间。

- 在这里也还有很多变数。一个是编译系统优化的级别。对有关执行情况难以做出预计，另一个重要的原因是计算机的体系结构。

