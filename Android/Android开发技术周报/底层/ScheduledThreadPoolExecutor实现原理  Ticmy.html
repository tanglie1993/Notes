<html>
<head>
  <title>ScheduledThreadPoolExecutor实现原理 | Ticmy</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.15063 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3795"/>
<h1>ScheduledThreadPoolExecutor实现原理 | Ticmy</h1>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="background:url(&quot;images/bodybg.gif&quot;) 0px 0px repeat-y rgb(255, 255, 255);color:rgb(68, 68, 68);font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:180%;font-family:&quot;Microsoft YaHei&quot;;"><div><div style="overflow:hidden;"><div><div>
		<div style="margin:0px;padding:20px 0px;">
		<div style="margin:0px;padding:0px;">
			<div style="margin:0px;padding:0px;">
			<h2 style="margin:0px;padding:0px;font-weight:100;font-size:22px;padding-bottom:5px;"><a href="http://www.ticmy.com/?p=329" rel="bookmark" style="color:rgb(54, 100, 139);text-decoration:none;">ScheduledThreadPoolExecutor实现原理</a></h2>
			<h3 style="margin:0px;padding:0px;font-weight:100;font-size:11px;border-bottom:2px solid rgb(51, 51, 51);"><span style="color:rgb(153, 153, 153);padding-right:10px;">分类：<a href="http://www.ticmy.com/?cat=3" rel="category" style="text-decoration:none;color:rgb(153, 153, 153);" title="查看 java 中的全部文章">java</a>, <a href="http://www.ticmy.com/?cat=7" rel="category" style="text-decoration:none;color:rgb(153, 153, 153);" title="查看 并发 中的全部文章">并发</a></span><span style="color:rgb(153, 153, 153);padding-right:10px;">日期：2013-01-09</span><span style="color:rgb(153, 153, 153);padding-right:10px;">作者：ticmy</span>			</h3>
			</div>
		</div>
		<div style="margin:0px;padding:10px 0px;height:100%;overflow:hidden;line-height:200%;font-size:14px;margin-left:0px;"><div style="margin:0px;padding:0px;clear:both;margin-top:5px;margin-bottom:5px;"></div><div style="margin:0px;padding:0px;float:left;">
<div style="margin:0px;padding:0px;">
	<a style="color:rgb(54, 100, 139);text-decoration:none;" title="分享到QQ空间"><span style="line-height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;font-size:22px;overflow:hidden;float:left;background-position:0px -32px;padding-left:36px;height:32px;display:block;"></span></a>
	<a style="color:rgb(54, 100, 139);text-decoration:none;" title="分享到微博"><span style="line-height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;font-size:22px;overflow:hidden;float:left;background-position:0px 0px;padding-left:36px;height:32px;display:block;"></span></a>
	<a style="color:rgb(54, 100, 139);text-decoration:none;" title="分享到腾讯微博"><span style="line-height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;font-size:22px;overflow:hidden;float:left;background-position:0px -1760px;padding-left:36px;height:32px;display:block;"></span></a>
	<a style="color:rgb(54, 100, 139);text-decoration:none;" title="分享到人人网"><span style="line-height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;font-size:22px;overflow:hidden;float:left;background-position:0px -64px;padding-left:36px;height:32px;display:block;"></span></a>
	<a style="color:rgb(54, 100, 139);text-decoration:none;" title="分享到开心网"><span style="line-height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;font-size:22px;overflow:hidden;float:left;background-position:0px -192px;padding-left:36px;height:32px;display:block;"></span></a>
	<a href="http://www.jiathis.com/share/" style="display:block;color:rgb(54, 100, 139);height:32px;text-align:left;background:url(&quot;http://v2.jiathis.com/code/css/../images/jiathis_ico_32x32.png&quot;) left center no-repeat;cursor:pointer;text-decoration:none;overflow:hidden;font-size:22px;float:left;background-position:0px -2048px;padding-left:36px;line-height:32px;" target="_blank"></a>
	<a style="color:rgb(54, 100, 139);text-decoration:none;"><span style="width:54px;text-decoration:none;cursor:pointer;color:rgb(86, 86, 86);font-weight:bold;font-size:16px;float:left;height:32px;text-align:center;font-family:arial, helvetica, sans-serif;padding:0px 5px 0px 6px;background:url(&quot;http://v2.jiathis.com/code/css/../images/counter.gif&quot;) 0px 0px no-repeat;line-height:32px;" title="累计分享9次">9</span></a>
</div>

</div><div style="margin:0px;padding:0px;clear:both;margin-top:5px;margin-bottom:5px;"></div><p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">自jdk1.5开始，Java开始提供ScheduledThreadPoolExecutor类来支持周期性任务的调度，在这之前，这些工作需要依靠Timer/TimerTask或者其它第三方工具来完成。但Timer有着不少缺陷，如Timer是单线程模式，调度多个周期性任务时，如果某个任务耗时较久就会影响其它任务的调度；如果某个任务出现异常而没有被catch则可能导致唯一的线程死掉而所有任务都不会再被调度。ScheduledThreadPoolExecutor解决了很多Timer存在的缺陷。<br/>
<span></span><br/>
先来看看ScheduledThreadPoolExecutor的实现模型，它通过继承<a href="http://www.ticmy.com/?p=243" style="color:rgb(54, 100, 139);text-decoration:none;">ThreadPoolExecutor</a>来重用线程池的功能，里面做了几件事情：</p>
<ul style="margin:0px;padding:0px;">
<li style="margin:0px;padding:0px;">为线程池设置了一个DelayedWorkQueue，该queue同时具有PriorityQueue（优先级大的元素会放到队首）和DelayQueue（如果队列里第一个元素的getDelay返回值大于0，则take调用会阻塞）的功能</li>
<li style="margin:0px;padding:0px;">将传入的任务封装成ScheduledFutureTask，这个类有两个特点，实现了java.lang.Comparable和java.util.concurrent.Delayed接口，也就是说里面有两个重要的方法：compareTo和getDelay。ScheduledFutureTask里面存储了该任务距离下次调度还需要的时间（使用的是基于<a href="http://www.ticmy.com/?p=309" style="color:rgb(54, 100, 139);text-decoration:none;">System#nanoTime实现的相对时间</a>，不会因为系统时间改变而改变，如距离下次执行还有10秒，不会因为将系统时间调前6秒而变成4秒后执行）。getDelay方法就是返回当前时间（运行getDelay的这个时刻）距离下次调用之间的时间差；compareTo用于比较两个任务的优先关系，距离下次调度间隔较短的优先级高。那么，当有任务丢进上面说到的DelayedWorkQueue时，因为它有DelayQueue（DelayQueue的内部使用PriorityQueue来实现的）的功能，所以新的任务会与队列中已经存在的任务进行排序，距离下次调度间隔短的任务排在前面，也就是说这个队列并不是先进先出的；另外，在调用DelayedWorkQueue的take方法的时候，如果没有元素，会阻塞，如果有元素而第一个元素的getDelay返回值大于0（前面说过已经排好序了，第一个元素的getDelay不会大于后面元素的getDelay返回值），也会一直阻塞。</li>
<li style="margin:0px;padding:0px;">
ScheduledFutureTask提供了一个run的实现，线程池执行的就是这个run方法。看看run的源码（<span style="color:green;">本文的代码取自hotspot1.5.0_22，jdk后续版本的代码可能已经不一样了，如jdk1.7中使用了自己实现的DelayedWorkQueue，而不再使用PriorityQueue作为存储，不过从外面看它们的行为还是一样的，所以并不影响对ScheduledThreadPoolExecutor调度机制的理解</span>）：<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;"></p>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">public</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">void</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">run() {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(isPeriodic())</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">runPeriodic();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">else</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFutureTask.</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">super</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">.run();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">如果不是周期性任务就直接执行任务（也就是else部分），这个主要是用于实现ScheduledThreadPoolExecutor#schedule(Callable<span> callable, long delay, TimeUnit unit)和ScheduledThreadPoolExecutor#schedule(Runnable command, long delay, TimeUnit unit)，后面会讲到它们的实现，这里先关注周期任务的执行方式。周期性任务执行的是runPeriodic(),看下它的实现：</span></p>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">private</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">void</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">runPeriodic() {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">boolean</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ok = ScheduledFutureTask.</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">super</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">.runAndReset();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">boolean</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">down = isShutdown();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// Reschedule if not cancelled and not shutdown or policy allows</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(ok &amp;&amp; (!down ||</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">               </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(getContinueExistingPeriodicTasksAfterShutdownPolicy() &amp;&amp; </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">                </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">!isTerminating()))) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">long</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">p = period;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(p &gt; </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(0, 153, 0);">0</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">)</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">            </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">time += p;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">else</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">            </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">time = triggerTime(-p);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledThreadPoolExecutor.</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">super</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">.getQueue().add(</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">this</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// This might have been the final executed delayed</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// task.  Wake up threads to check.</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">else</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(down) </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">interruptIdleWorkers();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">这里可以看到，先执行了任务本身（ScheduledFutureTask.super.runAndReset），这个调用有一个返回值，来看下它的实现：</p>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">protected</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">boolean</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">runAndReset() {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">sync.innerRunAndReset();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">跟进去看下innerRunAndReset():</p>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">boolean</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">innerRunAndReset() {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(!compareAndSetState(</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(0, 153, 0);">0</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">, RUNNING)) </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">false</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">try</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">{</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">runner = Thread.currentThread();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">callable.call(); </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// don't set result</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">runner = </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">compareAndSetState(RUNNING, </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(0, 153, 0);">0</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">} </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">catch</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(Throwable ex) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">innerSetException(ex);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">false</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">} </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">可以发现，这里需要关注的是第三个return，也就是如果任务执行出现了异常，会被catch且返回false.</p>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">继续看runPeriodic()方法，if里面，如果刚才任务执行的返回值是true且线程池还在运行就在if块中的操作，如果线程池被关闭了就做else if里的操作。也就是说，如果之前的任务执行出现的异常返回了false，那么if里以及else if里的代码都不会执行了，那有什么影响？接下来看看if里做了什么。</p>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;"><span style="color:red;display:block;">if里的代码很简单，分为两部分，一是计算这个任务下次调度的间隔，二是将任务重新放回队列中。回到出现异常的情况，如果刚才的任务执行出现了异常，就不会将任务再放回队列中，换而言之，也就是这个任务再也得不到调度了！但是，这并不影响其它周期任务的调度。</span>
</p></li>
</ul>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;color:red;">
综上，可以看到，ScheduledThreadPoolExecutor执行周期性任务的模型就是：调度一次任务，计算并设置该任务下次间隔，将任务放回队列中供线程池执行。这里的队列起了很大的作用，且有一些特点：距离下次调度间隔短的任务总是在队首，队首的任务若距离下次调度的间隔时间大于0就无法从该队列的take()方法中拿到任务。
</p>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">接下来看看ScheduledThreadPoolExecutor#schedule(Callable<span> callable, long delay, TimeUnit unit)和ScheduledThreadPoolExecutor#schedule(Runnable command, long delay, TimeUnit unit)这两个非周期性任务的实现方式，先看看它们的源码：</span></p>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">public</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFuture&lt;?&gt; schedule(Runnable command, </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">                                   </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">long</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">delay, </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">                                   </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">TimeUnit unit) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(command == </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">|| unit == </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">)</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">throw</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">new</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">NullPointerException();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFutureTask&lt;?&gt; t = </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">new</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFutureTask&lt;Boolean&gt;(command, </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">, triggerTime(delay, unit));</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">delayedExecute(t);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">t;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">public</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">&lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">                                       </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">long</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">delay, </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">                                       </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">TimeUnit unit) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(callable == </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">|| unit == </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">null</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">)</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">throw</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">new</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">NullPointerException();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFutureTask&lt;V&gt; t = </code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">new</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">ScheduledFutureTask&lt;V&gt;(callable, triggerTime(delay, unit));</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">delayedExecute(t);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">t;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<div style="margin:0px;padding:0px;"><div style="padding:0px;margin:1em 0px;width:100%;position:relative;overflow-x:auto;overflow-y:hidden;font-size:1em;background-color:white;"><table border="0" cellpadding="0" cellspacing="0" style="left:auto;font-size:1em;font-style:normal;font-variant:inherit;border-collapse:collapse;border-spacing:0px;width:100%;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;font-weight:normal;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;"><tbody style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><tr style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><td style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;font-size:1em;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;direction:ltr;width:100%;"><div style="position:relative;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;padding:0px;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;"><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">private</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">void</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">delayedExecute(Runnable command) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(isShutdown()) {</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">reject(command);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">return</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">;</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// Prestart a thread if necessary. We cannot prestart it</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// running the task because the task (probably) shouldn't be</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:rgb(63, 95, 191);">// run yet, so thread will just idle until delay elapses.</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">if</code> <code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">(getPoolSize() &lt; getCorePoolSize())</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">prestartCoreThread();</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">        </code> </div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="position:static;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;background:none;right:auto;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;">    </code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;display:inline;font-style:normal;font-size:1em;direction:ltr;font-weight:bold;color:rgb(127, 0, 85);">super</code><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">.getQueue().add(command);</code></div><div style="right:auto;margin:0px;border-radius:0px;background:none;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;outline:0px;overflow:visible;position:static;direction:ltr;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;white-space:pre;background-color:white;padding:0px 1em;padding-left:0em;"><code style="right:auto;border-radius:0px;border:0px;bottom:auto;float:none;height:auto;left:auto;line-height:1.1em;margin:0px;outline:0px;overflow:visible;padding:0px;position:static;background:none;text-align:left;top:auto;vertical-align:baseline;width:auto;box-sizing:content-box;font-family:Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;font-weight:normal;font-style:normal;font-size:1em;direction:ltr;display:inline;color:black;">}</code></div></div></td></tr></tbody></table></div></div>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">实现方式也很简单，在创建ScheduledThreadPoolExecutor内部任务（即ScheduledFutureTask）的时候就将调度间隔计算并设置好，如果当前线程数小于设置的核心线程数，就启动一个线程（可能是线程池刚启动里面还没有线程，也可能是里面的线程执行任务时挂掉了。如果线程池中的线程挂掉了而又没有调用这些schedule方法谁去补充挂掉的线程？不用担心，线程池自己会处理的）去监听队列里的任务，然后将任务放到队列里，在任务执行间隔不大于0的时候，线程就可以拿到这个任务并执行。</p>
<p style="margin:0px;font-style:normal;list-style:none;padding:5px 0px;">周期性任务的入口（ScheduledThreadPoolExecutor#scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit)和ScheduledThreadPoolExecutor#scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit)）与非周期性任务是类似的，它们处理方式不同的地方在于前文说到的ScheduledFutureTask#run()中。</p>
<div style="margin:0px;padding:3px;"> 	<div style="margin:0px;padding:0px;"></div> 	<div style="margin:0px;padding:0px;"> 		<a href="https://zh.pdf24.org/" style="color:rgb(54, 100, 139);text-decoration:none;font-size:smaller;" title="PDF24">下载文章的PDF</a> 	</div> </div></div>
    </div>
	<div style="margin:0px;padding:0px;">Tags: <a href="http://www.ticmy.com/?tag=concurrency" rel="tag" style="color:rgb(54, 100, 139);text-decoration:none;">concurrency</a> , <a href="http://www.ticmy.com/?tag=java" rel="tag" style="color:rgb(54, 100, 139);text-decoration:none;">java</a></div>	<div style="margin:0px;padding:0px;">
	   <ul style="margin:0px;padding:0px;">
		 <li style="margin:0px;padding:0px;"><b style="padding-right:5px;">上一篇:</b><a href="http://www.ticmy.com/?p=315" rel="prev" style="color:rgb(54, 100, 139);text-decoration:none;">[翻译]JSR 133 (Java Memory Model) FAQ</a></li>		 <li style="margin:0px;padding:0px;"><b style="padding-right:5px;">下一篇:</b><a href="http://www.ticmy.com/?p=394" rel="next" style="color:rgb(54, 100, 139);text-decoration:none;">wait操作无故退出？</a></li> 
	   </ul>
	 </div>
	 


<div style="margin:0px;padding:15px 0px 5px;">
  <div style="margin:0px;padding:3px 10px;border-bottom:2px solid rgb(204, 204, 204);font-size:14px;">7条评论</div>

			<ol style="margin:0px;padding:15px 0px 10px;"> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/7906185d7a5c1ea5cbf613a17dbbbca2.png" type="image/png" data-filename="7906185d7a5c1ea5cbf613a17dbbbca2.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;"><a href="http://jg9kvvuth.bdfpg.cn/" rel="external nofollow" style="color:rgb(54, 100, 139);text-decoration:none;">http://jg9kvvuth.bdfpg.cn</a></cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">农村适用小型搅拌泵车</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2016-12-08 18:45</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=15729#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/cf7c17208f015bf0547b9cc3d82fe0ff.png" type="image/png" data-filename="cf7c17208f015bf0547b9cc3d82fe0ff.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;"><a href="http://www.zhongguoshensuofeng.com/" rel="external nofollow" style="color:rgb(54, 100, 139);text-decoration:none;">伸缩缝</a></cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">好文章，内容栩栩如生.禁止此消息：nolinkok@163.com</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2016-06-04 16:41</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=15639#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/1fbbf2927946ff397d18b14768511f62.png" type="image/png" data-filename="1fbbf2927946ff397d18b14768511f62.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;"><a href="http://www.zhongguoleinuohudian.com/" rel="external nofollow" style="color:rgb(54, 100, 139);text-decoration:none;">雷诺护垫</a></cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">好文章，内容气吞山河.禁止此消息：nolinkok@163.com</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2016-06-04 16:41</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=15638#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/6918f822d949a35f94713fb7830fbc75.png" type="image/png" data-filename="6918f822d949a35f94713fb7830fbc75.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;">宅男小何</cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">innerSetException(ex);这里好像异常没抛出来，我吃过亏，抛异常了无任何日志，这个怎么处理比较好啊？</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2013-07-22 15:28</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=1096#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
<ul style="margin:0px;padding:0px;">
 <li style="height:100%;overflow:hidden;margin:10px 0px 0px 50px;padding:10px;background:rgb(237, 237, 237);">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/d=monsterid&s=48.png" type="image/png" data-filename="?d=monsterid&s=48.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;">匿名</cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">你在run里捕获异常啊</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2013-12-13 15:17</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=1508#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li></ul>
</li> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/d=monsterid&s=48 [1].png" type="image/png" data-filename="?d=monsterid&s=48.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;">Snway</cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">顶一下哈，不错的文章，多谢前辈的分享！</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2013-01-09 16:31</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=904#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li> <li style="margin:0px;height:100%;overflow:hidden;padding:10px 0px;background:url(&quot;images/linebg.gif&quot;) 0px 100% repeat-x;margin-bottom:5px;">
    <div style="margin:0px;padding:0px;float:left;width:60px;"><img src="ScheduledThreadPoolExecutor实现原理  Ticmy_files/b57d3c4fd590ca991063347d355e1dc3.png" type="image/png" data-filename="b57d3c4fd590ca991063347d355e1dc3.png" alt="" height="48" style="vertical-align:middle;border:1px solid rgb(204, 204, 204);background:rgb(255, 255, 255);padding:2px;" width="48"/></div>
	<div style="margin:0px;padding:0px;margin-left:70px;">
		<div style="margin:0px;padding:0px;color:rgb(18, 18, 18);font-weight:bold;"><cite style="font-style:normal;list-style:none;">东软帝国</cite> 说：</div>
				<div style="margin:0px;padding:0px;"><p style="margin:0px;padding:0px;font-style:normal;list-style:none;">这个不错，前两天还在看这个timer以前一直没用过</p>
</div>
		<div style="margin:0px;padding:0px;">
		   <small style="font-family:Arial, Helvetica, sans-serif;padding-right:10px;">POST:2013-01-09 16:11</small>
			<span><a href="http://www.ticmy.com/?p=329&amp;replytocom=903#respond" style="color:rgb(54, 100, 139);text-decoration:none;">回复</a></span>		</div>
	</div>
</li></ol>
		<div style="margin:0px;padding:0px;height:100%;overflow:hidden;font-family:Arial, Helvetica, sans-serif;font-size:14px;text-align:left;"></div>
	
</div>



<div style="margin:0px;padding:0px;height:100%;overflow:hidden;">
	 <div style="margin:0px;padding:3px 0px;height:100%;overflow:hidden;border-bottom:1px solid rgb(207, 207, 207);font-size:14px;text-align:right;">
		 <span style="float:left;">发表评论</span>
		 <span></span>
	 </div>

	 <div style="margin:0px;padding:10px 0px 5px;">
	  <div style="margin:0px;padding:0px;">
				  <div style="margin:0px;padding:0px;">
		  <div style="margin:0px;padding:0px;border:none;">
		    <p style="margin:0px;padding:0px;font-style:normal;list-style:none;padding-bottom:5px;">
			<span style="display:block;float:left;width:90px;">你的大名</span>
            <span style="color:rgb(151, 7, 20);padding-left:5px;"></span>
			</p>
			<p style="margin:0px;padding:0px;font-style:normal;list-style:none;padding-bottom:5px;">
			<span style="display:block;float:left;width:90px;">电子邮箱</span>
			<span style="color:rgb(151, 7, 20);padding-left:5px;"></span>
			</p>
			<p style="margin:0px;padding:0px;font-style:normal;list-style:none;padding-bottom:5px;">
			<span style="display:block;float:left;width:90px;">个人网站</span>
			
			</p>
		  </div>
		  </div>
				<div style="margin:0px;padding:0px;width:auto;">
			<div style="margin:0px;padding:0px;"></div>
            <span>有人回复时邮件通知我</span>			<div style="margin:0px;padding:0px;">
			
			
            

			</div>
		</div>
	  </div><strong>NOTICE:</strong> You should type some Chinese word (like “你好”) in your comment to pass the spam-check, thanks for your patience!
	 </div>
</div>

	 </div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 