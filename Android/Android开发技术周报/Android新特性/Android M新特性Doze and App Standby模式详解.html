<html>
<head>
  <title>Android M新特性Doze and App Standby模式详解</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.15063 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3394"/>
<h1>Android M新特性Doze and App Standby模式详解</h1>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="box-sizing:border-box;"><div style="box-sizing:inherit;overflow-x:hidden;font-family:-apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;text-rendering:optimizeLegibility;line-height:1.2;color:rgb(51, 51, 51);"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;background:rgb(255, 255, 255);"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;"><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;margin-bottom:24px;"><img src="Android M新特性Doze and App Standby模式详解_files/a2f8b6964a63c52033353633d645290f_r.jpg" type="image/jpeg" data-filename="a2f8b6964a63c52033353633d645290f_r.jpg" alt="Android M新特性Doze and App Standby模式详解" height="318px" style="box-sizing:inherit;overflow:hidden;width:100%;display:block;" width="660"/></div><h1 style="box-sizing:inherit;margin:0px;font-style:inherit;font-variant:inherit;font-stretch:inherit;font-family:inherit;font-weight:600;font-size:24px;line-height:1.3;">Android M新特性Doze and App Standby模式详解</h1><div style="align-items:center;box-sizing:inherit;display:flex;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;position:relative;font-size:14px;color:gray;margin-top:24px;"><a href="https://www.zhihu.com/people/m-a-g-i" rel="noopener noreferrer" style="box-sizing:inherit;color:inherit;text-decoration:none;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/b3239bbe59f2954e734b308f7749484c_xs.jpg" type="image/jpeg" data-filename="b3239bbe59f2954e734b308f7749484c_xs.jpg" alt="MagiLu" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;margin-right:12px;" width="36"/></a><a href="https://www.zhihu.com/people/m-a-g-i" style="box-sizing:inherit;text-decoration:none;min-width:0px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:gray;" target="_blank">MagiLu</a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;margin-left:6px;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/question/48509984/answer/111228361" style="box-sizing:inherit;color:inherit;text-decoration:none;display:inline-block;width:14px;height:14px;position:relative;top:-1px;" target="_blank"><span style="box-sizing:inherit;vertical-align:text-bottom;fill:rgb(159, 173, 199);height:16px;width:16px;"><span style="box-sizing:inherit;"><span style="box-sizing:inherit;">     <span style="box-sizing:inherit;"></span>     <span style="box-sizing:inherit;"></span>   </span></span></span></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">优秀回答者</span></div><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;color:gray;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 11月 6 日星期五下午 4 点 10 分</span></div></div></div><div style="align-items:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;flex-shrink:0;display:block;word-break:break-word;white-space:normal;margin:24px 0px 30px;line-height:1.7;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">作者：timorzheng</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">出品：QQ空间终端开发团队</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">本文首发于QQ空间终端开发团队的官方公众号，任何形式的转载之前必须与本人联系。</p><h2 style="box-sizing:inherit;font-style:inherit;font-variant:inherit;font-stretch:inherit;line-height:inherit;font-family:inherit;margin:20px 0px;font-weight:400;font-size:24px;"><strong style="box-sizing:inherit;">Optimizing for Doze and App Standby</strong></h2><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. 从Android6.0开始，Android提供了两种省电延长电池寿命的功能：Doze和App Standby；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 表现形式：当设备没有连接到电源，设备进入Doze模式时，系统将通过延迟最近用户没有使用的应用程序的后台CPU运作及网络活动，让应用程序处于App Standby状态，以此来减少电池消耗。谷歌表示，在Nexus5和Nexus6上测试，当屏幕处于关闭状态，平均续航时间提高30%；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3. 版本要求：Android6.0（API level 23）及其更高版本；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">4. 开发者影响：为了保证用户的最佳体验，开发者有必要在Doze和App Standby模式下测试应用程序，及其对代码进行相应的调整。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">Understanding Doze</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">1.设备进入Doze睡眠模式时机：</strong></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">用户不操作设备一段时间</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">屏幕关闭</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">设备未连接电源充电</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">2.Doze模式下应用程序有什么变化：</strong></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">系统试图通过限制应用程序访问网络和CPU密集型服务节省电池；</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">防止应用程序访问网络，推延应用程序的工作，同步，和标准的警报；</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">系统定期提供一个短暂的时间让应用程序完成延迟的工作活动，在这个时间片里，系统将提供维持性窗口应用程序访问网络，运行在等待的同步，工作，和报警等活动。</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Doze模式的五种状态，分别如下：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">ACTIVE</b>：手机设备处于激活活动状态</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">INACTIVE</b>：屏幕关闭进入非活动状态</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">IDLE_PENDING</b>：每隔30分钟让App进入等待空闲预备状态</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">IDLE</b>：空闲状态</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">IDLE_MAINTENANCE</b>：处理挂起任务</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">如下图所示，Doze期间提供间隔一小段时间（30s）供应用程序使用网络和处理挂起的活动。</p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/bed980ca737ce4f8b128526ef8423e71_hd.jpg" type="image/jpeg" data-filename="bed980ca737ce4f8b128526ef8423e71_hd.jpg" height="266" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="1839"/></div><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">从这张图我们可以看到，系统进入Doze模式后，系统会隔一段时间处理正在挂起的任务，随着时间推移，后面间隔的时间会越来越长，以此来减少电量消耗。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">3.退出Doze模式（系统退出休眠，所有的应用程序恢复正常活动）：</strong></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">用户唤醒装置移动，打开屏幕</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">或者设备连接电源</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">4.Doze有哪些限制？</strong></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">网络连接会被禁止</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Wake Lock会被屏蔽</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">AlarmManager定时任务延迟到下一个maintenance window进行处理，除非使用AlarmManager提供的方法：setAndAllowWhileIdle() 或者setExactAndAllowWhileIdle()</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">系统将不扫描热点WIFI</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">同步工作将被禁止</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">不允许JobScheduler进行任务调度</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">5.适配Doze模式有什么方法？</strong><br style="box-sizing:inherit;"/></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Doze影响到AlarmManager闹钟和定时器管理活动，在Android6.0引入了两个新方法：setAndAllowWhileIdle() 和setExactAndAllowWhileIdle()，调用两个方法可以在Doze模式下让系统响应定时任务</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Doze模式下限制了网络的连接，如果应用程序依赖于实时信息，那么这个将影响App的体验。那么你需要使用Google Cloud Messaging (GCM)谷歌云消息（后面详细讲解）</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">6.测试Doze和App Standby模式的方法（Adb命令）</strong></p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">测试Doze模式</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. 首先确保你的硬件或虚拟设备是Android6.0或更高版本系统；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 连接设备到开发机上并安装你的app；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3. 运行app并让其运行活动；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">4. 关闭设备的屏幕；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">5. 运行以下adb命令使系统进入Doze模式：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell dumpsys battery unplug</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell dumpsys deviceidle step</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">6. 观察你的app表现行为是否有需优化改进的地方。</p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">测试App Standby模式</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">步骤1-3同测试Doze模式</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">4. 运行以下adb命令迫使系统进入App Standby模式：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell dumpsys battery unplug</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell am set-inactive &lt;packageName&gt; true</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">5. 模拟唤醒你的应用程序使用以下命令：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell am set-inactive &lt;packageName&gt; false</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell am get-inactive &lt;packageName&gt;</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">6. 观察你的App，确保应用程序恢复正常从待机模式过程中，App的通知及其背部活动能达到预期结果。</p><h3 style="box-sizing:inherit;font-style:inherit;font-variant:inherit;font-stretch:inherit;line-height:inherit;font-family:inherit;margin:20px 0px;font-weight:400;font-size:24px;"><strong style="box-sizing:inherit;">Understanding App Standby</strong></h3><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">当用户不触摸使用应用程序一段时间时，该应用程序处于App Standby状态，系统将把该App标志为空闲状态。除非触发以下任意条件，应用程序将退出App Standby状态：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. 用户主动启动该App;</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 该App当前有一个前台进程（或包含一个活动的前台服务，或被另一个activity或前台service使用）;</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3. App生成一个用户所能在锁屏或通知托盘看到的Notification, 而当用户设备插入电源时，系统将会释放App的待机状态，允许他们自由的连接网络及其执行未完成的工作和同步。如果设备空闲很长一段时间，系统将允许空闲App一天一次访问网络。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">Doze和App Standby的区别：</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Doze模式需要屏幕关闭（通常晚上睡觉或长时间屏幕关闭才会进入），而App Standby不需要屏幕关闭，App进入后台一段时间也会受到连接网络等限制。</p><h3 style="box-sizing:inherit;font-style:inherit;font-variant:inherit;font-stretch:inherit;line-height:inherit;font-family:inherit;margin:20px 0px;font-weight:400;font-size:24px;"><strong style="box-sizing:inherit;">Using GCM to Interact with Your App While the Device is Idle</strong></h3><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">1. 什么是GCM?</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Google Cloud Messaging(GCM)是一个云到设备的服务，可以让你支持实时在云端服务和Android设备上应用程序之间的消息传递。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">GCM提供了一个持久连接到云端的链接，让所有需要实时消息传递应用程序可以共享此链接。这个共享链接显著优化电池消耗，使其不必让多个应用程序各位维护自己单独的持久链接而使电池迅速耗尽。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">由于这个原因，官方建议：如果你的应用需要消息传递与后端服务集成，我们强烈建议尽可能的使用GCM，而不是单独维护自己的网络链接。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">GCM消息拥有高优先级，不影响Doze模式，且不会不影响其他应用程序的状态。这意味着你的应用程序可以使用它们进行通信，同时最大限度地减少电池在整个系统和设备的影响。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">以下来GCM自官方解释：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">一个GCM实现包括谷歌连接服务器，在你的环境中通过HTTP或XMPP协议的连接服务器进行交互的应用程序服务器和客户端应用程序。</p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/192f03939179da3ce1e716440744ceac_hd.jpg" type="image/jpeg" data-filename="192f03939179da3ce1e716440744ceac_hd.jpg" height="219" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="701"/></div><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">生命周期流程:</p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">注册启用GCM： 客户端应用程序注册为接收消息。</p></li><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">发送和接收下行消息：</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">发送一个消息，该应用程序服务器发送信息到客户端应用程序：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1．该应用程序服务器发送消息给GCM连接服务器；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2．当设备处于脱机状态，该GCM连接服务器入队并存储消息；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3．当设备联机时，GCM连接服务器将邮件发送到该设备；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">4．在设备上，所述客户端应用程序根据该特定平台实现接收该消息。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">接收消息，客户端应用程序收到一条消息从GCM连接服务器。</p><ul style="box-sizing:inherit;padding:0px;margin:20px 0px;padding-left:40px;"><li style="box-sizing:inherit;margin-top:10px;list-style-type:disc;list-style-position:outside;"><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">发送和接收上游的消息： 如果您使用的是此功能只提供XMPP连接服务器 。</p></li></ul><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">发送一个消息，客户端应用程序将消息发送到应用服务器：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1．在设备上，客户端应用程序将消息发送到XMPP连接server；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2．如果该服务器已断开连接，该XMPP服务器连接入队并存储信息；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3．当应用程序服务器重新连接后，XMPP连接服务器将邮件发送到应用程序服务器。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">接收消息，一个应用服务器从XMPP连接服务器接收邮件，然后执行以下操作：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1、解析消息头，以验证客户端应用程序发送的信息；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2、发送“确认”的XMPP连接服务器以确认收到该消息；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3、任选解析该消息有效载荷，由客户端应用程序所定义的。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">除了GCM，Android6.0及更高版本还提供了Doze模式白名单列表，通过设置应用程序进入白名单列表可逃脱Doze模式的各种限制。<br style="box-sizing:inherit;"/></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">检测应用程序是否存在白名单list里面，可使用PowerManager的isIgnoringBatteryOptimizations()方法。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">用户也可手动设置应用程序进入白名单列表里面，路径为：设置&gt;电池&gt;电池优化白名单：<br style="box-sizing:inherit;"/></p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/401c44eac8cdc650646470cc46b0522e_hd.jpg" type="image/jpeg" data-filename="401c44eac8cdc650646470cc46b0522e_hd.jpg" height="1144" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="640"/></div><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/c18b4a5485b3b18b9a034e8400ecf8a8_hd.jpg" type="image/jpeg" data-filename="c18b4a5485b3b18b9a034e8400ecf8a8_hd.jpg" height="1137" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="640"/></div><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">客户端使用方法：</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. App程序可发送action为ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS的intent引导用户进入设置界面将应用程序设置进白名单列表里。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 应用程序还可以使用AREQUEST_IGNORE_BATTERY_OPTIMIZATIONS 权限来触发一个系统对话来让用户添加到白名单里，而无需进入设置界面去设置。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">当然，官方也提供用户把你的App移除电池优化白名单的选项。这个白名单也会被Android M的另一个新特性 App Standby使用，所以用户只能简单的进行控制，也就是说设备并不会完全相信这个白名单。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">官方举了一下白名单例子：</p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/e4a728e00977119839742862cf99ff9c_hd.jpg" type="image/jpeg" data-filename="e4a728e00977119839742862cf99ff9c_hd.jpg" height="418" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="673"/></div><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell dumpsys deviceidle whitelist +&lt;packageName&gt;</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">$ adb shell dumpsys deviceidle</p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/b9b49e0fda861f3b90294b946ff7d7b4_hd.jpg" type="image/jpeg" data-filename="b9b49e0fda861f3b90294b946ff7d7b4_hd.jpg" height="174" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;cursor:-webkit-zoom-in;margin:0px auto;" width="828"/></div><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">总结：</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Doze模式的推出本身是为了减少电池的消耗，且Google希望统一使用GCM来传递消息进行通讯，而对于国内开发来讲，确实带来了很大的麻烦：</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. 国内开发的一些消息推送机制（PUSH）将受到影响；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 若使用GCM，在国内使用GCM延迟高，对于即时通讯产品来说选择还需勇气啊；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3. 国内第三方手机厂商如华为、小米、三星，定制的Rom也将使用定制的推送消息机制。这让同一款App如何选择哪种推送机制才能兼容呢？</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><strong style="box-sizing:inherit;">解决方法：</strong></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">1. 用户添加应用程序到电池优化白名单列表；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">2. 开发者使用Google提供的ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS意图和AREQUEST_IGNORE_BATTERY_OPTIMIZATIONS权限设置以此忽略（推荐）；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">3. 使用Google提供的GCM；</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">4. 通过so绕过Doze模式。</p><br style="box-sizing:inherit;"/><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;"><b style="box-sizing:inherit;font-weight:600;">关于Qzone :</b></p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">Qzone 是中国最大的社交网络，是腾讯集团的核心平台之一，目前Qzone的月活跃账户数达到6.68亿，Qzone智能终端月活跃账户数达到5.68亿。从2005~2015，Qzone见证了国内互联网蓬勃发展的十年，这十年风云变幻，但我们的业务却不断向前发展，也希望更多的朋友能够加入我们，共同迎接互联网和Qzone的下一个十年。</p><p style="box-sizing:inherit;margin:0px;margin-top:0px;margin-bottom:20px;">欢迎关注我们Qzone终端开发团队的公众号：</p><div style="box-sizing:inherit;margin:24px 0px;"><img src="Android M新特性Doze and App Standby模式详解_files/f31640f48032ab39cd7fb6ca1e3cbad5_hd.jpg" type="image/jpeg" data-filename="f31640f48032ab39cd7fb6ca1e3cbad5_hd.jpg" height="258" style="box-sizing:inherit;overflow:hidden;margin-left:auto;margin-right:auto;display:block;max-width:100%;margin:0px auto;" width="258"/></div></div><div style="box-sizing:inherit;display:flex;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:rgba(0, 0, 0, 0.54);"><div style="align-items:stretch;box-sizing:inherit;flex-direction:column;-webkit-box-align:stretch;display:flex;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;overflow:hidden;-webkit-box-flex:0;flex:0 0 50%;"></div><div style="flex-shrink:0;box-sizing:inherit;-webkit-box-flex:0;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:start;align-items:flex-start;display:flex;-webkit-box-direction:normal;flex:0 0 50%;-webkit-box-pack:end;justify-content:flex-end;font-size:15px;color:gray;"></div><div style="-webkit-box-align:start;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;flex-shrink:0;align-items:flex-start;margin:40px 0px;-webkit-box-flex:0;flex:0 0 50%;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;margin-top:16px;"><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/people/ZH8732" style="box-sizing:inherit;color:inherit;text-decoration:none;margin:0px 8px 8px 0px;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/142e0fd29a08c59d8ab078929b5f074b_is.jpg" type="image/jpeg" data-filename="142e0fd29a08c59d8ab078929b5f074b_is.jpg" alt="只为心上人" height="26" style="box-sizing:inherit;overflow:hidden;border-radius:50%;width:26px;height:26px;" width="26"/></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:34px;padding:3px 8px;border-radius:4px;line-height:1.8;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">只为心上人</span></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/people/huang-yi-wen" style="box-sizing:inherit;color:inherit;text-decoration:none;margin:0px 8px 8px 0px;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/v2-c2d62418c675581cc1d8e096bec9cc05_is.jpg" type="image/jpeg" data-filename="v2-c2d62418c675581cc1d8e096bec9cc05_is.jpg" alt="黄团团" height="26" style="box-sizing:inherit;overflow:hidden;border-radius:50%;width:26px;height:26px;" width="26"/></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:34px;padding:3px 8px;border-radius:4px;line-height:1.8;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">黄团团</span></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/people/yuanfangdada" style="box-sizing:inherit;color:inherit;text-decoration:none;margin:0px 8px 8px 0px;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/bd18ebe760e1daf69e0d4882a76e7fab_is.jpg" type="image/jpeg" data-filename="bd18ebe760e1daf69e0d4882a76e7fab_is.jpg" alt="袁元芳" height="26" style="box-sizing:inherit;overflow:hidden;border-radius:50%;width:26px;height:26px;" width="26"/></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:34px;padding:3px 8px;border-radius:4px;line-height:1.8;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">袁元芳</span></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/people/gundam-39" style="box-sizing:inherit;color:inherit;text-decoration:none;margin:0px 8px 8px 0px;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/v2-48871c1269314362bdefe512615a262c_is.jpg" type="image/jpeg" data-filename="v2-48871c1269314362bdefe512615a262c_is.jpg" alt="gundam" height="26" style="box-sizing:inherit;overflow:hidden;border-radius:50%;width:26px;height:26px;" width="26"/></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:34px;padding:3px 8px;border-radius:4px;line-height:1.8;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">gundam</span></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><a href="https://www.zhihu.com/people/huai-bei-wei-zhi" style="box-sizing:inherit;color:inherit;text-decoration:none;margin:0px 8px 8px 0px;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/v2-963a676f079b59ab6d787f13391c42cf_is.jpg" type="image/jpeg" data-filename="v2-963a676f079b59ab6d787f13391c42cf_is.jpg" alt="昏鸦" height="26" style="box-sizing:inherit;overflow:hidden;border-radius:50%;width:26px;height:26px;" width="26"/></a><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:34px;padding:3px 8px;border-radius:4px;line-height:1.8;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">昏鸦</span></div><a href="https://zhuanlan.zhihu.com/p/20323263/voters" rel="noopener noreferrer" style="box-sizing:inherit;text-decoration:none;color:rgb(179, 179, 179);position:relative;width:26px;height:26px;background:rgba(0, 0, 0, 0.06);border-radius:50%;" target="_blank" title="查看全部"><i style="text-transform:none;box-sizing:inherit;line-height:1;speak:none;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:24px;font-style:normal;-webkit-font-smoothing:antialiased;position:relative;top:1px;vertical-align:middle;font-family:icomoon;"><span style="font-size:24px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-family:icomoon;"></span></i></a></div></div><div style="align-items:flex-start;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:start;display:flex;-webkit-box-direction:normal;margin:40px 0px;-webkit-box-flex:0;flex:0 0 50%;-webkit-box-pack:end;justify-content:flex-end;"><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin-top:6px;"></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin-left:15px;"><div style="align-items:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;display:flex;flex-shrink:0;padding:6px 0px;position:relative;border:0px;box-shadow:none;"><div style="text-align:left;box-sizing:inherit;visibility:hidden;background:rgb(255, 255, 255);-webkit-box-direction:normal;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;display:flex;position:absolute;line-height:54px;border-radius:4px;color:rgb(51, 51, 51);border:1px solid rgba(0, 0, 0, 0.08);box-shadow:rgba(0, 0, 0, 0.05) 0px 8px 18px;transform:translateY(-10%);z-index:100;font-size:14px;opacity:0;transition:all 0.1s;transition-delay:0.2s;top:100%;width:134px;left:50%;margin-left:-66px;"></div></div></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin-top:6px;margin-left:15px;"></div></div></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin-bottom:32px;"><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;align-items:stretch;flex-shrink:0;display:block;position:relative;line-height:22px;margin-bottom:12px;"><span style="box-sizing:inherit;position:relative;display:inline;padding-right:16px;font-weight:600;background:rgb(251, 252, 252);z-index:1;">文章被以下专栏收录</span><span style="box-sizing:inherit;content:&quot;&quot;;position:absolute;left:0px;right:0px;top:50%;height:1px;color:rgb(240, 240, 240);background:currentcolor;"></span></div><ul style="box-sizing:inherit;margin:0px;padding:0px;"><li style="box-sizing:inherit;list-style-type:none;position:relative;padding:16px 0px;opacity:1;max-height:300px;"><div style="box-sizing:inherit;display:flex;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;"><a href="https://zhuanlan.zhihu.com/magilu" style="box-sizing:inherit;color:inherit;text-decoration:none;margin-right:12px;"><img src="Android M新特性Doze and App Standby模式详解_files/384228c3a23a319023c4c5d2dcbc4459_m.jpg" type="image/jpeg" data-filename="384228c3a23a319023c4c5d2dcbc4459_m.jpg" height="48" style="box-sizing:inherit;overflow:hidden;width:48px;height:48px;border-radius:7px;vertical-align:top;" width="48"/></a><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;display:flex;-webkit-box-direction:normal;align-self:stretch;font-size:14px;-webkit-box-flex:0;flex:0 1 auto;overflow:hidden;"><div style="box-sizing:inherit;display:flex;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;line-height:1.4;"><a href="https://zhuanlan.zhihu.com/magilu" style="box-sizing:inherit;color:inherit;text-decoration:none;font-size:16px;font-weight:600;">MAGI的专栏</a></div><p style="box-sizing:inherit;margin:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;margin-top:6px;color:gray;line-height:1.4;">虽然自己不是他，但我会成为他的影子。</p></div><a href="https://zhuanlan.zhihu.com/magilu" style="box-sizing:inherit;text-decoration:none;color:rgb(80, 200, 126);margin-left:auto;font-size:14px;min-width:60px;text-align:center;">进入专栏</a></div></li></ul></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;padding-bottom:48px;"><div style="align-items:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;flex-shrink:0;display:block;position:relative;margin-bottom:32px;line-height:22px;z-index:3;"><span style="box-sizing:inherit;position:relative;display:inline;padding-right:16px;font-weight:600;background:rgb(251, 252, 252);z-index:1;">4 条评论</span><span style="box-sizing:inherit;content:&quot;&quot;;position:absolute;left:0px;right:0px;top:50%;height:1px;color:rgb(240, 240, 240);background:currentcolor;"></span></div><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;"><img src="Android M新特性Doze and App Standby模式详解_files/841248052a77165bf59a16008df4e0aa_xs.jpg" type="image/jpeg" data-filename="841248052a77165bf59a16008df4e0aa_xs.jpg" alt="汤洌" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;margin-right:16px;" width="36"/><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-flex:1;flex:1 1 0%;"><div style="position:relative;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:flex;border-radius:3px;border:1px solid rgb(231, 234, 241);background:rgb(255, 255, 255);font-size:14px;transition:background 0.2s, border 0.2s;padding:0px;height:auto;width:100%;"><div style="font-family:inherit;box-sizing:inherit;font-size:inherit;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-direction:normal;display:flex;outline:none;padding:0px;flex:1 1 0%;-webkit-box-flex:1;font-weight:inherit;background:transparent;border:none;overflow:hidden;resize:none;line-height:24px;min-height:46px;margin-bottom:0px;padding-top:5px;padding-bottom:0px;"><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;-webkit-box-direction:normal;display:block;word-break:break-word;white-space:normal;position:relative;cursor:text;min-height:38px;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;height:auto;padding:6px 12px;"><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;align-items:stretch;flex-shrink:0;position:absolute;pointer-events:none;display:block;color:rgb(179, 179, 179);"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;">写下你的评论...</div></div><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;"><div style="-webkit-box-align:stretch;box-sizing:inherit;white-space:pre-wrap;outline:none;flex-direction:column;align-items:stretch;flex-shrink:0;-webkit-box-direction:normal;-webkit-box-orient:vertical;display:block;word-wrap:break-word;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin:0px 0px 0.72em;display:block;margin-bottom:0px;"><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:block;"><span style="box-sizing:inherit;"><br style="box-sizing:inherit;"/></span></div></div></div></div></div></div></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;"></div></div></div></div></div><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;margin-top:32px;"><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;align-items:stretch;flex-shrink:0;position:relative;padding-left:60px;margin-top:0px;"><a href="https://www.zhihu.com/people/ipcjs" style="box-sizing:inherit;color:inherit;text-decoration:none;position:absolute;left:0px;display:inline-block;overflow:hidden;border:4px solid rgb(255, 255, 255);border-radius:8px;vertical-align:top;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/9f5cb21bca16178c999b86f90521b813_xs.jpg" type="image/jpeg" data-filename="9f5cb21bca16178c999b86f90521b813_xs.jpg" alt="ipcjs" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;" width="36"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;line-height:24px;"><span style="box-sizing:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"><a href="https://www.zhihu.com/people/ipcjs" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">ipcjs</a></span></div></div><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;display:flex;-webkit-box-direction:normal;min-height:22px;margin:8px 0px;font-size:15px;line-height:24px;word-break:break-word;">关键点是“so可以绕过”。。。</div><div style="-webkit-box-align:stretch;box-sizing:inherit;display:flex;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;color:gray;font-size:14px;line-height:30px;"><span style="box-sizing:inherit;position:absolute;right:0px;" title="1 人觉得这个很赞">1 赞</span><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 11月 6 日星期五晚上 7 点 12 分</span></div></div></div><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;align-items:stretch;flex-shrink:0;position:relative;padding-left:60px;margin-top:32px;"><a href="https://www.zhihu.com/people/AXiaoMao" style="box-sizing:inherit;color:inherit;text-decoration:none;position:absolute;left:0px;display:inline-block;overflow:hidden;border:4px solid rgb(255, 255, 255);border-radius:8px;vertical-align:top;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/bfedaf85fd0318d17c69368692909967_xs.jpg" type="image/jpeg" data-filename="bfedaf85fd0318d17c69368692909967_xs.jpg" alt="赵小炎" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;" width="36"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;line-height:24px;"><span style="box-sizing:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"><a href="https://www.zhihu.com/people/AXiaoMao" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">赵小炎</a></span></div></div><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;display:flex;-webkit-box-direction:normal;min-height:22px;margin:8px 0px;font-size:15px;line-height:24px;word-break:break-word;">整这么复杂，应该没什么卵用。省电逻辑最简单也最有效的是iOS的设计，推送加类似单任务。</div><div style="-webkit-box-align:stretch;box-sizing:inherit;display:flex;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;color:gray;font-size:14px;line-height:30px;"><span style="box-sizing:inherit;position:absolute;right:0px;" title="1 人觉得这个很赞">1 赞</span><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 11月 6 日星期五晚上 9 点 39 分</span></div></div></div><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;align-items:stretch;flex-shrink:0;position:relative;padding-left:60px;margin-top:32px;"><a href="https://www.zhihu.com/people/peerless2012" style="box-sizing:inherit;color:inherit;text-decoration:none;position:absolute;left:0px;display:inline-block;overflow:hidden;border:4px solid rgb(255, 255, 255);border-radius:8px;vertical-align:top;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/0ee6049f2935de9a30655d4b6792e0c4_xs.jpg" type="image/jpeg" data-filename="0ee6049f2935de9a30655d4b6792e0c4_xs.jpg" alt="peerless2012" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;" width="36"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;line-height:24px;margin-right:86px;"><span style="box-sizing:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"><a href="https://www.zhihu.com/people/peerless2012" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">peerless2012</a><span style="box-sizing:inherit;"><span style="box-sizing:inherit;margin:0px 6px;">回复</span><a href="https://www.zhihu.com/people/AXiaoMao" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">赵小炎</a></span></span></div></div><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;display:flex;-webkit-box-direction:normal;min-height:22px;margin:8px 0px;font-size:15px;line-height:24px;word-break:break-word;">天朝你就呵呵吧，要不是谷歌被墙，都只用谷歌消息推送，后台一下可以干净多了（其实也不会干净，各个软件还会自己搞一套推送，显得很牛逼似的）</div><div style="-webkit-box-align:stretch;box-sizing:inherit;display:flex;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;color:gray;font-size:14px;line-height:30px;"><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 11月 9 日星期一下午 3 点 45 分</span></div></div></div><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;align-items:stretch;flex-shrink:0;position:relative;padding-left:60px;margin-top:32px;"><a href="https://www.zhihu.com/people/AXiaoMao" style="box-sizing:inherit;color:inherit;text-decoration:none;position:absolute;left:0px;display:inline-block;overflow:hidden;border:4px solid rgb(255, 255, 255);border-radius:8px;vertical-align:top;" target="_blank"><img src="Android M新特性Doze and App Standby模式详解_files/bfedaf85fd0318d17c69368692909967_xs [1].jpg" type="image/jpeg" data-filename="bfedaf85fd0318d17c69368692909967_xs.jpg" alt="赵小炎" height="36" style="box-sizing:inherit;overflow:hidden;width:36px;height:36px;border-radius:50%;" width="36"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;line-height:24px;margin-right:86px;"><span style="box-sizing:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"><a href="https://www.zhihu.com/people/AXiaoMao" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">赵小炎</a><span style="box-sizing:inherit;"><span style="box-sizing:inherit;margin:0px 6px;">回复</span><a href="https://www.zhihu.com/people/peerless2012" style="box-sizing:inherit;text-decoration:none;color:rgb(51, 51, 51);font-weight:600;" target="_blank">peerless2012</a></span></span></div></div><div style="align-items:stretch;box-sizing:inherit;flex-shrink:0;-webkit-box-orient:vertical;flex-direction:column;-webkit-box-align:stretch;display:flex;-webkit-box-direction:normal;min-height:22px;margin:8px 0px;font-size:15px;line-height:24px;word-break:break-word;">所以才感觉Google控制力太弱，这新功能基本上是摆设，如果Android有iOS一样的推送，和像苹果一样严格的审查，Android跟iOS基本上不会有差距。使用体验和安全性基本上可以不输iOS。</div><div style="-webkit-box-align:stretch;box-sizing:inherit;display:flex;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;color:gray;font-size:14px;line-height:30px;"><span style="box-sizing:inherit;position:absolute;right:0px;" title="5 人觉得这个很赞">5 赞</span><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 11月 9 日星期一下午 3 点 56 分</span></div></div></div></div></div><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:flex;align-items:stretch;flex-shrink:0;position:relative;padding-top:32px;padding-bottom:55px;"><span style="position:absolute;left:0px;top:0px;bottom:0px;width:100vw;margin-left:calc(330px - 50vw);background:rgb(251, 251, 251);z-index:-1;"></span><div style="-webkit-box-align:stretch;box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;align-items:stretch;flex-shrink:0;display:block;position:relative;margin-bottom:32px;line-height:22px;"><span style="box-sizing:inherit;position:relative;display:inline;padding-right:16px;font-weight:600;z-index:1;background:rgb(251, 251, 251);">推荐阅读</span><span style="box-sizing:inherit;content:&quot;&quot;;position:absolute;left:0px;right:0px;top:50%;height:1px;color:rgb(240, 240, 240);background:currentcolor;"></span></div><ul style="box-sizing:inherit;margin:0px;padding:0px;"><li style="box-sizing:inherit;list-style-type:none;position:relative;padding:24px 0px;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;contain:layout;"><a href="https://zhuanlan.zhihu.com/p/20392285" style="box-sizing:inherit;color:inherit;text-decoration:none;flex-shrink:0;padding-right:16px;"><img src="Android M新特性Doze and App Standby模式详解_files/2983db488ec0a2abd624a64cbb2232e2_b.jpg" type="image/jpeg" data-filename="2983db488ec0a2abd624a64cbb2232e2_b.jpg" alt="题图" height="143" style="box-sizing:inherit;overflow:hidden;border-radius:4px;vertical-align:top;object-fit:cover;height:143px;width:156px;" width="156"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-flex:1;flex:1 1 0%;"><a href="https://zhuanlan.zhihu.com/p/20392285" style="box-sizing:inherit;color:inherit;text-decoration:none;"><span style="box-sizing:inherit;line-height:1.5;font-size:20px;font-weight:600;">【TALK】系列文章预告</span><p style="box-sizing:inherit;margin:auto;padding-top:10px;padding-bottom:10px;line-height:1.7;color:rgb(102, 102, 102);word-break:break-all;">我一直认为具备独立思考能力的重要性超越其它技能，如果说我真的有什么擅长的东西，可能就是…<span style="box-sizing:inherit;padding-left:4px;color:rgb(179, 179, 179);">查看全文<i style="text-transform:none;box-sizing:inherit;line-height:1;speak:none;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:24px;font-style:normal;-webkit-font-smoothing:antialiased;display:inline-block;vertical-align:middle;transform:rotate(-90deg);font-family:icomoon;"><span style="font-size:24px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-family:icomoon;"></span></i></span></p></a><div style="flex-shrink:0;box-sizing:inherit;-webkit-box-pack:justify;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:stretch;align-items:stretch;display:flex;-webkit-box-direction:normal;justify-content:space-between;font-size:14px;line-height:1.5;color:gray;flex-wrap:wrap;"><span style="box-sizing:inherit;"><a href="https://www.zhihu.com/people/m-a-g-i" style="box-sizing:inherit;color:inherit;text-decoration:none;" target="_blank">MagiLu</a><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:inline;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 12月 4 日星期五晚上 6 点 14 分</span></div><span style="box-sizing:inherit;"><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><span style="box-sizing:inherit;">发表于 </span><a href="https://zhuanlan.zhihu.com/magilu" style="box-sizing:inherit;color:inherit;text-decoration:none;" title="MAGI的专栏">MAGI的专栏</a></span></span></div></div></div></li><li style="box-sizing:inherit;list-style-type:none;position:relative;padding:24px 0px;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;contain:layout;"><a href="https://zhuanlan.zhihu.com/p/20308548" style="box-sizing:inherit;color:inherit;text-decoration:none;flex-shrink:0;padding-right:16px;"><img src="Android M新特性Doze and App Standby模式详解_files/95323100bb988415aa67444eee56927f_b.jpg" type="image/jpeg" data-filename="95323100bb988415aa67444eee56927f_b.jpg" alt="题图" height="143" style="box-sizing:inherit;overflow:hidden;border-radius:4px;vertical-align:top;object-fit:cover;height:143px;width:156px;" width="156"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-flex:1;flex:1 1 0%;"><a href="https://zhuanlan.zhihu.com/p/20308548" style="box-sizing:inherit;color:inherit;text-decoration:none;"><span style="box-sizing:inherit;line-height:1.5;font-size:20px;font-weight:600;">安卓App热补丁动态修复技术介绍</span><p style="box-sizing:inherit;margin:auto;padding-top:10px;padding-bottom:10px;line-height:1.7;color:rgb(102, 102, 102);word-break:break-all;">作者：johnczchen出品：QQ空间终端开发团队原文发布于QQ空间终端开发团队的官方公众号，任何…<span style="box-sizing:inherit;padding-left:4px;color:rgb(179, 179, 179);">查看全文<i style="text-transform:none;box-sizing:inherit;line-height:1;speak:none;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:24px;font-style:normal;-webkit-font-smoothing:antialiased;display:inline-block;vertical-align:middle;transform:rotate(-90deg);font-family:icomoon;"><span style="font-size:24px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-family:icomoon;"></span></i></span></p></a><div style="flex-shrink:0;box-sizing:inherit;-webkit-box-pack:justify;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:stretch;align-items:stretch;display:flex;-webkit-box-direction:normal;justify-content:space-between;font-size:14px;line-height:1.5;color:gray;flex-wrap:wrap;"><span style="box-sizing:inherit;"><a href="https://www.zhihu.com/people/m-a-g-i" style="box-sizing:inherit;color:inherit;text-decoration:none;" target="_blank">MagiLu</a><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:inline;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">2 年前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2015 年 10月 31 日星期六下午 3 点 31 分</span></div><span style="box-sizing:inherit;"><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><span style="box-sizing:inherit;">发表于 </span><a href="https://zhuanlan.zhihu.com/magilu" style="box-sizing:inherit;color:inherit;text-decoration:none;" title="MAGI的专栏">MAGI的专栏</a></span></span></div></div></div></li><li style="box-sizing:inherit;list-style-type:none;position:relative;padding:24px 0px;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;contain:layout;"><a href="https://zhuanlan.zhihu.com/p/30896573" style="box-sizing:inherit;color:inherit;text-decoration:none;flex-shrink:0;padding-right:16px;"><img src="Android M新特性Doze and App Standby模式详解_files/v2-607c9074417df7be771a65deb6b5942e_b.jpg" type="image/jpeg" data-filename="v2-607c9074417df7be771a65deb6b5942e_b.jpg" alt="题图" height="143" style="box-sizing:inherit;overflow:hidden;border-radius:4px;vertical-align:top;object-fit:cover;height:143px;width:156px;" width="156"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-flex:1;flex:1 1 0%;"><a href="https://zhuanlan.zhihu.com/p/30896573" style="box-sizing:inherit;color:inherit;text-decoration:none;"><span style="box-sizing:inherit;line-height:1.5;font-size:20px;font-weight:600;">iPhone内置相机完全操作指南</span><p style="box-sizing:inherit;margin:auto;padding-top:10px;padding-bottom:10px;line-height:1.7;color:rgb(102, 102, 102);word-break:break-all;">文章很长，总字数10000左右，建议先收藏并点赞后（敲黑板！人与人之间需要信任！），于公交…<span style="box-sizing:inherit;padding-left:4px;color:rgb(179, 179, 179);">查看全文<i style="text-transform:none;box-sizing:inherit;line-height:1;speak:none;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:24px;font-style:normal;-webkit-font-smoothing:antialiased;display:inline-block;vertical-align:middle;transform:rotate(-90deg);font-family:icomoon;"><span style="font-size:24px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-family:icomoon;"></span></i></span></p></a><div style="flex-shrink:0;box-sizing:inherit;-webkit-box-pack:justify;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:stretch;align-items:stretch;display:flex;-webkit-box-direction:normal;justify-content:space-between;font-size:14px;line-height:1.5;color:gray;flex-wrap:wrap;"><span style="box-sizing:inherit;"><a href="https://www.zhihu.com/people/bigface-62" style="box-sizing:inherit;color:inherit;text-decoration:none;" target="_blank">Derrick Zhang</a><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:inline;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">1 个月前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2017 年 11月 9 日星期四晚上 9 点 13 分</span></div></span></div></div></div></li><li style="box-sizing:inherit;list-style-type:none;position:relative;padding:24px 0px;"><div style="box-sizing:inherit;display:flex;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;contain:layout;"><a href="https://zhuanlan.zhihu.com/p/31511997" style="box-sizing:inherit;color:inherit;text-decoration:none;flex-shrink:0;padding-right:16px;"><img src="Android M新特性Doze and App Standby模式详解_files/v2-cb65cc6dbe9c37b85d5a4df94c4d9246_b.jpg" type="image/jpeg" data-filename="v2-cb65cc6dbe9c37b85d5a4df94c4d9246_b.jpg" alt="题图" height="143" style="box-sizing:inherit;overflow:hidden;border-radius:4px;vertical-align:top;object-fit:cover;height:143px;width:156px;" width="156"/></a><div style="box-sizing:inherit;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;-webkit-box-flex:1;flex:1 1 0%;"><a href="https://zhuanlan.zhihu.com/p/31511997" style="box-sizing:inherit;color:inherit;text-decoration:none;"><span style="box-sizing:inherit;line-height:1.5;font-size:20px;font-weight:600;">百度云的“链接不存在或失效”怎么破？</span><p style="box-sizing:inherit;margin:auto;padding-top:10px;padding-bottom:10px;line-height:1.7;color:rgb(102, 102, 102);word-break:break-all;">哈哈，相信大家不管是领取干货资料还是通过百度云发送文档给伙伴，都会碰到一下问题：你打开…<span style="box-sizing:inherit;padding-left:4px;color:rgb(179, 179, 179);">查看全文<i style="text-transform:none;box-sizing:inherit;line-height:1;speak:none;font-weight:400;font-feature-settings:normal;font-variant:normal;font-size:24px;font-style:normal;-webkit-font-smoothing:antialiased;display:inline-block;vertical-align:middle;transform:rotate(-90deg);font-family:icomoon;"><span style="font-size:24px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-family:icomoon;"></span></i></span></p></a><div style="flex-shrink:0;box-sizing:inherit;-webkit-box-pack:justify;-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-align:stretch;align-items:stretch;display:flex;-webkit-box-direction:normal;justify-content:space-between;font-size:14px;line-height:1.5;color:gray;flex-wrap:wrap;"><span style="box-sizing:inherit;"><a href="https://www.zhihu.com/org/qu-chuang-wu-you" style="box-sizing:inherit;color:inherit;text-decoration:none;" target="_blank">趣创无忧</a><span style="box-sizing:inherit;margin:0px 6px;"><span style="">·</span></span><div style="box-sizing:inherit;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;flex-shrink:0;display:inline;position:relative;"><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:22px;width:0px;height:0px;margin:0px 0px 0px -6px;font-size:0px;color:rgba(0, 0, 0, 0.8);border-bottom:6px solid currentcolor;border-left:6px solid transparent;border-right:6px solid transparent;"></span><span style="box-sizing:inherit;">25 天前</span><span style="position:absolute;left:50%;visibility:hidden;opacity:0;z-index:10;top:28px;padding:10px 16px;border-radius:4px;line-height:1.5;font-size:13px;color:rgb(255, 255, 255);background:rgba(0, 0, 0, 0.8);transform:translateX(-50%);width:80px;">2017 年 11月 29 日星期三上午 10 点 34 分</span></div></span></div></div></div></li></ul></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 